{% extends 'portal_web/base.html' %}

{% load static %}

{% block content %}
<body>
<div class="container mt-3">
    <div class="row">
        <div class="col"><h2>{{ profile.nickname }}</h2><span hidden id="playerID">{{ profile.player_id }}</span></div>
    </div>
    <div class="row">
        <div class="column">Battles: {{ profile.battles }}</div>
        <div class="column">WN8: {{ profile.current_wn8 }}</div>
    </div>
    <div class="row">
            <div class="col-6 my-2" id="wn8chart">
                <canvas id="lineChart" style="width:100%;max-height:300px; border: 2px solid lightgrey; border-radius: 5px"></canvas>
            </div>
            <div class="col-6 my-2" id="levelChart">
                <canvas id="tankTierChart" style="width:100%;max-height:300px; border: 2px solid lightgrey; border-radius: 5px"></canvas>
            </div>
    </div>
    <div class="accordion" id="accordionTanksStats">
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingOne">
                <button class="accordion-button collapsed" id="accordionButtonCollapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                    Tanks Statistics
                </button>
            </h2>
            <div id="collapseOne" class="accordion-collapse collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionTanksStats">
                <div class="accordion-body">
                    <div class="container-fluid" id="statTable"></div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="{% static 'portal_web/js/home_utils.js' %}"></script>
<script>
<!--Line Chart-->
    const xValues = [50,60,70,80,90,100,110,120,130,140,150];
    const yValues = [7,8,8,9,9,9,10,11,14,14,15];

    new Chart("lineChart", {
      type: "line",
      data: {
        labels: xValues,
        datasets: [{
            fill: false,
            backgroundColor:"rgba(0,0,255,1.0)",
            borderColor: "rgba(0,0,255,0.1)",
            data: yValues
        }]
      },
      options:{
          legend: {display: false},
          title: {
            display: true,
            text: "WN8"
          }
      }
    });

    // Bar Chart
    var xBarValues = ["Tier 1", "Tier 2", "Tier 3", "Tier 4", "Tier 5", "Tier 6", "Tier 7", "Tier 8", "Tier 9", "Tier 10"];
    var yBarValues = [55, 221, 412, 1339, 2014, 2814, 2950, 7770, 4201, 6452];

    new Chart("tankTierChart", {
      type: "bar",
      data: {
        labels: xBarValues,
        datasets: [{
          backgroundColor: "blue",
          data: yBarValues
        }]
      },
      options: {
        legend: {display: false},
        title: {
          display: true,
          text: "Tanks by Tier"
        }
      }
    });
</script>
</body>

{% endblock %}